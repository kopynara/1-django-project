{% extends 'base.html' %} {# 이 줄을 파일의 맨 첫 줄에 추가합니다. #}

{% block title %}Blog Posts{% endblock %} {# 이 블록은 <head> 안에 <title>을 채웁니다. #}

{% block content %} {# 이 블록 안의 내용이 base.html의 {% block content %} 자리에 들어갑니다. #}
    <div class="container my-4">
        <h1>Blog Post List</h1>

        {% for post in posts %} {# 기존 코드에서 'posts' 변수를 사용하는 점을 반영했습니다. #}
            <div>
                <h2><a href="{% url 'blog:detail' slug=post.slug %}">{{ post.title }}</a></h2>
                <p>{{ post.description }}</p>
                <small>Posted on {{ post.create_dt|date:"Y-m-d H:i" }}</small>
            </div>
            <hr>
        {% empty %}
            <p>No posts yet.</p>
        {% endfor %}

        {% if is_paginated %}
            <div class="pagination">
                <span class="page-links">
                    {% if page_obj.has_previous %}
                        <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                    {% endif %}
                    <span class="current-page">
                        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                    </span>
                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}">next</a>
                    {% endif %}
                </span>
            </div>
        {% endif %}
    </div>
{% endblock %}