{% extends 'base.html' %} {# base.html 템플릿을 상속받습니다. #}
{% load static %} {# 정적 파일을 사용하기 위해 로드합니다. #}

{% block title %}{{ post.title }}{% endblock %} {# 게시물 제목을 페이지 제목으로 설정합니다. #}

{% block content %} {# base.html의 content 블록에 이 내용을 삽입합니다. #}
    <div class="container my-4">
        <h1 class="mb-3">{{ post.title }}</h1> {# 게시물 제목 #}
        <p class="text-muted small mb-3">
            <i class="far fa-calendar-alt"></i> {{ post.created_at|date:"Y.m.d H:i" }}
            {% if post.author %} | <i class="fas fa-user"></i> {{ post.author }}{% endif %}
            {% if post.modify_dt %} | <i class="fas fa-edit"></i> 수정일: {{ post.modify_dt|date:"Y.m.d H:i" }}{% endif %}
        </p>

        {# 태그 표시 섹션 시작 #}
        {% if post.tags.all %} {# 게시물에 태그가 있다면 #}
            <div class="tags-section mb-4"> {# 태그 섹션에 아래쪽 마진을 추가합니다. #}
                <i class="fas fa-tags me-1"></i>
                {% for tag in post.tags.all %} {# 각 태그를 순회합니다. #}
                    {# 태그 클릭 시 해당 태그가 달린 게시물 목록으로 이동하는 링크 #}
                    <a href="{% url 'blog:post_tag_list' tag=tag.name %}"
                       class="badge bg-info text-dark me-1 mb-1 rounded-pill">
                        {{ tag.name }}
                    </a>
                {% endfor %}
            </div>
        {% endif %}
        {# 태그 표시 섹션 끝 #}

        <div class="post-content mb-5"> {# 게시물 내용에 아래쪽 마진을 추가합니다. #}
            {{ post.content|safe }} {# 게시물 내용을 HTML 태그를 포함하여 안전하게 표시합니다. #}
        </div>

        <div class="d-flex justify-content-between align-items-center"> {# 버튼들을 양쪽 끝으로 정렬 #}
            <a href="{% url 'blog:index' %}" class="btn btn-secondary">목록으로 돌아가기</a> {# 목록으로 돌아가는 버튼 #}
            {# 이전/다음 게시물 링크 (필요시 추가) #}
            {# <a href="#" class="btn btn-outline-primary">이전 글</a> #}
            {# <a href="#" class="btn btn-outline-primary">다음 글</a> #}
        </div>
    </div>
{% endblock content %}
